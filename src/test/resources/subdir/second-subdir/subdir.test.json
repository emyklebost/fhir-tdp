{
  "validator": {
    "version": "4.0",
    "igs": [
      "../../fhir-profiles"
    ]
  },
  "testCases": [
    {
      "resource": "../../fhir-instances/message-without-errors.json",
      "profile": "http://fhir.nav.no/StructureDefinition/HopsMessage"
    },
    {
      "resource": "../../fhir-instances/message-with-unexpected-error.json",
      "profile": "http://fhir.nav.no/StructureDefinition/HopsMessage"
    },
    {
      "resource": "../../fhir-instances/message-with-expected-errors.json",
      "profile": "http://fhir.nav.no/StructureDefinition/HopsMessage",
      "expectedIssues": [
        {
          "severity": "ERROR",
          "location": "Bundle.entry[0].resource.ofType(MessageHeader).destination[0].endpoint",
          "message": "valid-her-id"
        },
        {
          "severity": "ERROR",
          "location": "Bundle.entry[0].resource.ofType(MessageHeader).source.endpoint",
          "message": "message that does not exist"
        }
      ]
    }
  ]
}
